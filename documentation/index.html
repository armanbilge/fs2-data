<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>fs2-data - Documentation</title>
    <link rel="stylesheet" href="/css/stylesheet.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="/css/materialize.min.css" media="screen,projection"/>
    <style>body{font-family: overpass, sans-serif; }</style>

    <meta name="generator" content="Nanoc 4.12.0">
  </head>
  <body>
    <header>
        <nav class="nav-extended red darken-2">
          <a href="#!" class="brand-logo right">fs2-data</a>
          <a href="#" data-target="collapsed" class="sidenav-trigger"><i class="material-icons">menu</i></a>
          <div class="nav-wrapper">
            <ul id="nav-mobile" class="left hide-on-med-and-down">
              <li><a href="/">Home</a></li>
              <li><a href="/documentation/">Documentation</a></li>
              <li><a href="/api/">Scaladoc</a></li>
              <li><a href="https://github.com/satabin/fs2-data">Github</a></li>
            </ul>
          </div>
          
          
          <div class="nav-content">
            <ul class="tabs tabs-transparent">
              
              <li class="tab"><a href="/documentation/cbor/">CBOR</a></li>
              
              <li class="tab"><a href="/documentation/json/">JSON</a></li>
              
              <li class="tab"><a href="/documentation/xml/">XML</a></li>
              
              <li class="tab"><a href="/documentation/csv/">CSV</a></li>
              
            </ul>
          </div>
          
        </nav>

    </header>

    <ul class="sidenav" id="collapsed">
      <li><a href="/">Home</a></li>
      <li><a href="/documentation/">Documentation</a></li>
      <li><a href="/api/">Scaladoc</a></li>
      <li><a href="https://github.com/satabin/fs2-data">Github</a></li>
    </ul>

    
    <div class="fixed-action-btn tooltipped" data-position="left" data-tooltip="Edit this page">
      <a class="btn-floating btn-large blue darken-2" href="https://github.com/satabin/fs2-data/edit/master/documentation/docs/index.md" target="_blank">
        <i class="large material-icons">mode_edit</i>
      </a>
    </div>
    

    <main>
      <div class="container">
        <h1 id="fs2-data-documentation"><code>fs2-data</code> Documentation</h1>

<p><code>fs2-data</code> consists of several modules, handling a different data format, and sub-modules for each data format, adding more features (but also more dependencies). The core module for each data format has no other dependency than <code>fs2</code> and provides tools to parse and transform data in a streaming manner.</p>

<p>For each module, the entry point is an <a href="https://fs2.io/guide.html#statefully-transforming-streams">fs2 <code>Pipe</code></a> transforming a stream of characters into some tokens or events. All parsers are streaming parsers, which means that the parsed tree is never constructed in memory by the parser, but instead, is emitted as a sequence of <em>tokens</em> or <em>events</em> (similar to <a href="https://en.wikipedia.org/wiki/Simple_API_for_XML">SAX</a>), and that the input data is not fully held in memory either. The parsers read the input as it comes, and emit the tokens as soon as possible, discarding the input data that is not useful anymore.</p>

<h2 id="textual-formats">Textual formats</h2>

<p>As the entry points operate on stream of characters, a common pattern when using this library to read data from a file is to start by building a <code>Stream[F, Char]</code> as follows:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats.effect._</span>

<span class="k">import</span> <span class="nn">fs2._</span>

<span class="k">import</span> <span class="nn">java.nio.file.Paths</span>

<span class="k">implicit</span> <span class="k">val</span> <span class="nv">cs</span> <span class="k">=</span> <span class="nv">IO</span><span class="o">.</span><span class="py">contextShift</span><span class="o">(</span><span class="nv">scala</span><span class="o">.</span><span class="py">concurrent</span><span class="o">.</span><span class="py">ExecutionContext</span><span class="o">.</span><span class="py">global</span><span class="o">)</span>

<span class="nc">Blocker</span><span class="o">[</span><span class="kt">IO</span><span class="o">].</span><span class="py">use</span> <span class="o">{</span> <span class="n">blocker</span> <span class="k">=&gt;</span>
  <span class="nv">io</span><span class="o">.</span><span class="py">file</span>
    <span class="o">.</span><span class="py">readAll</span><span class="o">[</span><span class="kt">IO</span><span class="o">](</span><span class="nv">Paths</span><span class="o">.</span><span class="py">get</span><span class="o">(</span><span class="s">"/some/path/to/a/file.data"</span><span class="o">),</span> <span class="n">blocker</span><span class="o">,</span> <span class="mi">1024</span><span class="o">)</span>
    <span class="o">.</span><span class="py">through</span><span class="o">(</span><span class="nv">text</span><span class="o">.</span><span class="py">utf8Decode</span><span class="o">)</span>
    <span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">Stream</span><span class="o">.</span><span class="py">emits</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
    <span class="c1">// perform your parsing and transformation here</span>
    <span class="o">.</span><span class="py">compile</span>
    <span class="o">.</span><span class="py">drain</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Available data modules are:</p>

<ul>
  <li>
    <p>binary format</p>

    <ul>
      <li><a href="/documentation/cbor/">CBOR</a> - CBOR parser and transformation</li>
    </ul>
  </li>
  <li>
    <p>textual format</p>

    <ul>
      <li>
        <p><a href="/documentation/json/">JSON</a> - JSON parser and transformation</p>
      </li>
      <li>
        <p><a href="/documentation/xml/">XML</a> - XML parser and validator</p>
      </li>
      <li>
        <p><a href="/documentation/csv/">CSV</a> - CSV parser and codec</p>
      </li>
    </ul>
  </li>
</ul>


      </div>
    </main>

    <footer class="page-footer red lighten-2">
      <div class="footer-copyright red darken-2">
        <div class="container">
          Copyright Â© 2020 <a class="grey-text text-lighten-4" href="https://twitter.com/lucassatabin">@lucassatabin</a>
          <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" class="grey-text text-lighten-4 right" /></a>
        </div>
      </div>
    </footer>

    <script type="text/javascript" src="/js/materialize.min.js"></script>
    <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('.sidenav');
      var instances = M.Sidenav.init(elems, {});
    });
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('.tooltipped');
      var instances = M.Tooltip.init(elems, {});
    });
    </script>
  </body>
</html>
